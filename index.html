
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>TailorLearn ‚Äì Interactive AI Tutor (Sample)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#0f172a; color:#e5e7eb; margin:0; }
  .wrap { max-width: 920px; margin: 24px auto; padding: 16px; }
  .card { background:#020617; border:1px solid #1f2937; border-radius:14px; padding:16px; margin-bottom:16px; }
  h1,h2 { margin: 0 0 10px; }
  label { font-size: 12px; color:#9ca3af; }
  input, select, textarea, button {
    width:100%; padding:12px; margin-top:8px; border-radius:10px;
    border:1px solid #1f2937; background:#020617; color:#e5e7eb;
  }
  button.primary { background:#2563eb; border:none; }
  button.ghost { background:#020617; }
  .row { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
  .chat { background:#020617; border:1px solid #1f2937; border-radius:14px; padding:12px; height:360px; overflow:auto; }
  .msg { margin:10px 0; }
  .ai { color:#93c5fd; }
  .user { color:#a7f3d0; text-align:right; }
  .pill { display:inline-block; padding:6px 10px; border-radius:999px; background:#020617; border:1px solid #1f2937; margin-right:6px; font-size:12px;}
  .footer { color:#6b7280; font-size:12px; }
</style>
</head>
<body>
<div class="wrap" id="app" style="display:none;">
  <div class="card">
    <h1>üéì TailorLearn ‚Äî Interactive AI Tutor (Demo)</h1>
    <p class="footer">This is a local demo that simulates personalized, adaptive teaching.</p>
    <div class="row">
      <div>
        <label>Topic</label>
        <input id="topic" placeholder="e.g., React, Python, Kubernetes" />
      </div>
      <div>
        <label>Level</label>
        <select id="level">
          <option>Beginner</option>
          <option>Intermediate</option>
          <option>Advanced</option>
        </select>
      </div>
      <div>
        <label>Goal</label>
        <input id="goal" placeholder="Interview / Project / Exam" />
      </div>
      <div>
        <label>Language</label>
        <select id="lang">
          <option>English</option>
          <option>English + Hindi</option>
        </select>
      </div>
    </div>
    <button class="primary" onclick="start()">Create My Course</button>
    <!-- LANDING PAGE -->
<div id="landing" style="
  min-height:100vh;
  background:linear-gradient(135deg,#020617,#020617 40%,#1e3a8a);
  color:#e5e7eb;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
">
  <div style="max-width:900px;text-align:center;">
    <h1 style="font-size:2.2rem;margin-bottom:12px;">
      Your Personal AI Tutor.<br/>Courses Made Just For You.
    </h1>

    <p style="font-size:1.1rem;color:#c7d2fe;margin-bottom:20px;">
      Tell us what you want to learn.  
      We create interactive lessons, explain in your style,  
      and adapt as you learn ‚Äî in real time.
    </p>

    <div style="margin-bottom:24px;">
      <span class="pill">Personalized</span>
      <span class="pill">Interactive</span>
      <span class="pill">AI-Powered</span>
    </div>

    <button class="primary" style="max-width:240px;margin:auto;"
      onclick="startLearning()">
      üöÄ Start Learning Free
    </button>

    <p style="font-size:12px;color:#9ca3af;margin-top:16px;">
      No signup ‚Ä¢ No ads ‚Ä¢ Learn your way
    </p>
  </div>
</div>
  </div>

  <div class="card">
    <h2>Live Lesson</h2>
    <div id="chat" class="chat"></div>
    <div class="row">
     <textarea id="input" rows="2" placeholder="Ask a doubt or answer the tutor‚Ä¶"></textarea>
     <button class="ghost" onclick="send()">Send</button>
     <button class="ghost" onclick="startVoice()">üé§ Speak</button>
    </div>
    <div style="margin-top:8px">
      <span class="pill">Adaptive</span>
      <span class="pill">Interactive</span>
      <span class="pill">Personalized</span>
    </div>
  </div>
</div>

<script>

function saveProgress() {
  const data = {
    topic: topic.value,
    level: level.value,
    goal: goal.value,
    chat: chat.innerHTML,
    state: state
  };
  localStorage.setItem("tailorlearn-progress", JSON.stringify(data));
}

function loadProgress() {
  const data = localStorage.getItem("tailorlearn-progress");
  if (!data) return;

  const saved = JSON.parse(data);
  topic.value = saved.topic || "";
  level.value = saved.level || "Beginner";
  goal.value = saved.goal || "";
  chat.innerHTML = saved.chat || "";
  state = saved.state || { started: false, depth: 0 };

  if (state.started) {
    addMsg("üëã Welcome back! Continuing from where we left off.","ai");
  }
}
  
let state = { started:false, depth:0 };

function addMsg(text, who='ai') {
  const d = document.createElement('div');
  d.className = 'msg ' + (who==='ai'?'ai':'user');
  d.innerHTML = text.replace(/\n/g,'<br/>');
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}
function start(){
  state.started = true;
  state.depth = 0;
  chat.innerHTML='';

  const t = topic.value || 'your topic';
  const l = level.value;
  const g = goal.value || 'your goal';

  addMsg(`üëã Hi! I‚Äôm your AI tutor.<br/>
  We‚Äôll learn <b>${t}</b> at a <b>${l}</b> level, focused on <b>${g}</b>.<br/><br/>
  Quick check: what do you already know about ${t}?`,'ai');

  saveProgress();
}

async function send(){
  if(!state.started) return;
  const v = input.value.trim();
  if(!v) return;

  addMsg(v,'user');
  input.value='';

  const prompt = `
You are a friendly AI tutor.
Teach the user interactively.

Topic: ${topic.value}
Level: ${level.value}
Goal: ${goal.value}

User says: "${v}"

Respond as a teacher.
Ask questions.
Adapt difficulty.
`;

  addMsg("ü§ñ Thinking...","ai");

  const res = await fetch("https://api.openai.com/v1/chat/completions", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": 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
    },
    body: JSON.stringify({
      model: "gpt-4o-mini",
      messages: [{ role: "user", content: prompt }],
      temperature: 0.7
    })
  });

  const data = await res.json();
  chat.lastChild.remove();
  addMsg(data.choices[0].message.content,'ai');
  saveProgress();
}
let recognition;

function startVoice() {
  if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
    alert("Voice input not supported on this browser");
    return;
  }

  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new SpeechRecognition();

  recognition.lang = "en-IN"; // Indian English
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;

  addMsg("üé§ Listening... Speak now","ai");

  recognition.start();

  recognition.onresult = function(event) {
    const voiceText = event.results[0][0].transcript;
    input.value = voiceText;
    send();
  };

  recognition.onerror = function() {
    addMsg("‚ùå Sorry, I couldn't hear you clearly. Try again.","ai");
  };
}
window.onload = loadProgress;
function startLearning() {
  document.getElementById("landing").style.display = "none";
  document.getElementById("app").style.display = "block";
}
</script>
</body>
</html>
